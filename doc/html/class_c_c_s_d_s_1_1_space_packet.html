<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CCSDS: CCSDS::SpacePacket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CCSDS
   </div>
   <div id="projectbrief">CCSDS-compliant Transferframe and SpacePacket library as used for Satellites</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CCSDS</b></li><li class="navelem"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html">SpacePacket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_c_c_s_d_s_1_1_space_packet-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CCSDS::SpacePacket Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for handling the Space Packets as described in CCSDS 133.0-B-2.  
 <a href="class_c_c_s_d_s_1_1_space_packet.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ccsds__spacepacket_8h_source.html">ccsds_spacepacket.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9fb07922e730768d4c477fe16c2f3208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#a9fb07922e730768d4c477fe16c2f3208">SpacePacket</a> (<a class="el" href="class_c_c_s_d_s_1_1_space_packet_action_interface.html">SpacePacketActionInterface</a> *p_ActionInterface=nullptr)</td></tr>
<tr class="memdesc:a9fb07922e730768d4c477fe16c2f3208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_c_c_s_d_s_1_1_space_packet.html" title="Class for handling the Space Packets as described in CCSDS 133.0-B-2.">SpacePacket</a> object.  <br /></td></tr>
<tr class="separator:a9fb07922e730768d4c477fe16c2f3208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab048d13283b292e2b9dd3a6d8b9ecf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#aab048d13283b292e2b9dd3a6d8b9ecf5">setActionInterface</a> (<a class="el" href="class_c_c_s_d_s_1_1_space_packet_action_interface.html">SpacePacketActionInterface</a> *p_ActionInterface)</td></tr>
<tr class="memdesc:aab048d13283b292e2b9dd3a6d8b9ecf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the action class which is used to call the methods when an action is to be called.  <br /></td></tr>
<tr class="separator:aab048d13283b292e2b9dd3a6d8b9ecf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f25a227db4df3fdb08dec92012daac2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#a3f25a227db4df3fdb08dec92012daac2">process</a> (const uint8_t *pu8_Buffer, const uint32_t u32_BufferSize)</td></tr>
<tr class="memdesc:a3f25a227db4df3fdb08dec92012daac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The given upstream data is parsed for SpacePackets.  <br /></td></tr>
<tr class="separator:a3f25a227db4df3fdb08dec92012daac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7b608d8e88033913b7509ba981f5cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#a4e7b608d8e88033913b7509ba981f5cb">reset</a> (void)</td></tr>
<tr class="memdesc:a4e7b608d8e88033913b7509ba981f5cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the scanning for a space packet.  <br /></td></tr>
<tr class="separator:a4e7b608d8e88033913b7509ba981f5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad618ff3959314b0bb9c3dfd91db7899d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#ad618ff3959314b0bb9c3dfd91db7899d">getSyncErrorCount</a> (void)</td></tr>
<tr class="memdesc:ad618ff3959314b0bb9c3dfd91db7899d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of sync errors.  <br /></td></tr>
<tr class="separator:ad618ff3959314b0bb9c3dfd91db7899d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c92055e24beb84ef8a7c39c835de839"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#a9c92055e24beb84ef8a7c39c835de839">getOverflowErrorCount</a> (void)</td></tr>
<tr class="memdesc:a9c92055e24beb84ef8a7c39c835de839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of overflow errors.  <br /></td></tr>
<tr class="separator:a9c92055e24beb84ef8a7c39c835de839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a3c28118313f79d7d440c038a0ba8d"><td class="memItemLeft" align="right" valign="top"><a id="af2a3c28118313f79d7d440c038a0ba8d" name="af2a3c28118313f79d7d440c038a0ba8d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearErrorCounters</b> (void)</td></tr>
<tr class="memdesc:af2a3c28118313f79d7d440c038a0ba8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all error counters (Sync Error and Overflow Error) <br /></td></tr>
<tr class="separator:af2a3c28118313f79d7d440c038a0ba8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad3b34d8c8abdb7259f466754d2f7a25e"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#ad3b34d8c8abdb7259f466754d2f7a25e">create</a> (uint8_t *pu8_Buffer, const uint32_t u32_BufferSize, const <a class="el" href="ccsds__spacepacket_8h.html#af62337a97178d12f0b7e5c679bd13aa9">ESpacePacketType</a> e_PacketType, const <a class="el" href="ccsds__spacepacket_8h.html#ad38a344bd158ff84861c4b3f0332d6b3">ESpacePacketSequenceFlags</a> e_SequenceFlags, const uint16_t u16_APID, const uint16_t u16_SequenceCount, const uint8_t *pu8_PacketData, const uint16_t u16_PacketDataLength)</td></tr>
<tr class="memdesc:ad3b34d8c8abdb7259f466754d2f7a25e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Space Packet and writes it into the given buffer.  <br /></td></tr>
<tr class="separator:ad3b34d8c8abdb7259f466754d2f7a25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ebf7d3af00155d185847ce0e0f2de6"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#a74ebf7d3af00155d185847ce0e0f2de6">create</a> (uint8_t *pu8_Buffer, const uint32_t u32_BufferSize, const <a class="el" href="ccsds__spacepacket_8h.html#af62337a97178d12f0b7e5c679bd13aa9">ESpacePacketType</a> e_PacketType, const <a class="el" href="ccsds__spacepacket_8h.html#ad38a344bd158ff84861c4b3f0332d6b3">ESpacePacketSequenceFlags</a> e_SequenceFlags, const uint16_t u16_APID, const uint16_t u16_SequenceCount, const uint8_t *pu8_SecondaryHeaderData, const uint16_t u16_SecondaryHeaderLength, const uint8_t *pu8_PacketData, const uint16_t u16_PacketDataLength)</td></tr>
<tr class="memdesc:a74ebf7d3af00155d185847ce0e0f2de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Space Packet with Secondary Header and writes it into the given buffer.  <br /></td></tr>
<tr class="separator:a74ebf7d3af00155d185847ce0e0f2de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadf59a2cd4d1c6e577d6e33699aa980"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#acadf59a2cd4d1c6e577d6e33699aa980">createIdle</a> (uint8_t *pu8_Buffer, const uint32_t u32_BufferSize, const uint16_t u16_SequenceCount, const uint16_t u16_TargetPacketSize)</td></tr>
<tr class="memdesc:acadf59a2cd4d1c6e577d6e33699aa980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an Idle Space Packet and writes into the given buffer.  <br /></td></tr>
<tr class="separator:acadf59a2cd4d1c6e577d6e33699aa980"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac02bfae739074d09148533e52f030feb"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#ac02bfae739074d09148533e52f030feb">MaxSize</a> = SP_MAX_TOTAL_SIZE</td></tr>
<tr class="separator:ac02bfae739074d09148533e52f030feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4404ccb8726be8c36258f82b19ca51"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_c_s_d_s_1_1_space_packet.html#abb4404ccb8726be8c36258f82b19ca51">MaxDataSize</a> = SP_MAX_DATA_SIZE</td></tr>
<tr class="separator:abb4404ccb8726be8c36258f82b19ca51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for handling the Space Packets as described in CCSDS 133.0-B-2. </p>
<p>Space Packets are used to transfer data from one specific application to another which are identified by the Application ID (APID), corresponding to OSI layer 4. Even thouth Space Packets have a sequence counter, there is no mechanism for resending packets. This means, if a connection is expected to be disturbed and unreliable, Space Packes should be wrapped in Transfer Frames.</p>
<p>The size of the Space Package may vary and depends on the information which are to be transfered. The maximum size is limmited to 65536 bytes by the protocol, but typically the maximum size is configured to be much smaller, depending on the needs and the available memory for processing the packages on the controller board. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9fb07922e730768d4c477fe16c2f3208" name="a9fb07922e730768d4c477fe16c2f3208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb07922e730768d4c477fe16c2f3208">&#9670;&#160;</a></span>SpacePacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCSDS::SpacePacket::SpacePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_c_s_d_s_1_1_space_packet_action_interface.html">SpacePacketActionInterface</a> *&#160;</td>
          <td class="paramname"><em>p_ActionInterface</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="class_c_c_s_d_s_1_1_space_packet.html" title="Class for handling the Space Packets as described in CCSDS 133.0-B-2.">SpacePacket</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_ActionInterface</td><td>A pointer to the implementation of the action interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad3b34d8c8abdb7259f466754d2f7a25e" name="ad3b34d8c8abdb7259f466754d2f7a25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b34d8c8abdb7259f466754d2f7a25e">&#9670;&#160;</a></span>create() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CCSDS::SpacePacket::create </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>u32_BufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ccsds__spacepacket_8h.html#af62337a97178d12f0b7e5c679bd13aa9">ESpacePacketType</a>&#160;</td>
          <td class="paramname"><em>e_PacketType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ccsds__spacepacket_8h.html#ad38a344bd158ff84861c4b3f0332d6b3">ESpacePacketSequenceFlags</a>&#160;</td>
          <td class="paramname"><em>e_SequenceFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_APID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_SequenceCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_PacketData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_PacketDataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a Space Packet and writes it into the given buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu8_Buffer</td><td>A pointer to the buffer where the space packet shall be stored </td></tr>
    <tr><td class="paramname">u32_BufferSize</td><td>The available size of the buffer </td></tr>
    <tr><td class="paramname">e_PacketType</td><td>Identifies the type of Space Packet (SpacePacket::TM or SpacePacket::TC) </td></tr>
    <tr><td class="paramname">e_SequenceFlags</td><td>Identifies that a packet belongs to a sequence of packets (one of SpacePacket::Unsegmented, SpacePacket::FirstSegment, SpacePacket::ContinuationSegment, SpacePacket::LastSegment) </td></tr>
    <tr><td class="paramname">u16_APID</td><td>The Application Identifier where this packet belongs to </td></tr>
    <tr><td class="paramname">u16_SequenceCount</td><td>The 14-bit sequence counter is handeled by the calling context and must be specific for each APID </td></tr>
    <tr><td class="paramname">pu8_PacketData</td><td>A pointer to the data block which shall be wrapped </td></tr>
    <tr><td class="paramname">u16_PacketDataLength</td><td>The size of the data block in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No packet could be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the created packet in bytes as uint32_t </dd></dl>

</div>
</div>
<a id="a74ebf7d3af00155d185847ce0e0f2de6" name="a74ebf7d3af00155d185847ce0e0f2de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74ebf7d3af00155d185847ce0e0f2de6">&#9670;&#160;</a></span>create() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CCSDS::SpacePacket::create </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>u32_BufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ccsds__spacepacket_8h.html#af62337a97178d12f0b7e5c679bd13aa9">ESpacePacketType</a>&#160;</td>
          <td class="paramname"><em>e_PacketType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ccsds__spacepacket_8h.html#ad38a344bd158ff84861c4b3f0332d6b3">ESpacePacketSequenceFlags</a>&#160;</td>
          <td class="paramname"><em>e_SequenceFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_APID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_SequenceCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_SecondaryHeaderData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_SecondaryHeaderLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_PacketData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_PacketDataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a Space Packet with Secondary Header and writes it into the given buffer. </p>
<p>The secondary header is not standardized. It can for example hold a time stamp in a telemetry packet. It also can hold additional information about the sender/receiver if SpacecraftID and the ApplicationID is not enough.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu8_Buffer</td><td>A pointer to the buffer where the space packet shall be stored </td></tr>
    <tr><td class="paramname">u32_BufferSize</td><td>The available size of the buffer </td></tr>
    <tr><td class="paramname">e_PacketType</td><td>Identifies the type of Space Packet (SpacePacket::TM or SpacePacket::TC) </td></tr>
    <tr><td class="paramname">e_SequenceFlags</td><td>Identifies that a packet belongs to a sequence of packets (one of SpacePacket::Unsegmented, SpacePacket::FirstSegment, SpacePacket::ContinuationSegment, SpacePacket::LastSegment) </td></tr>
    <tr><td class="paramname">u16_APID</td><td>The application identifier (APID) defines where this packet belongs to </td></tr>
    <tr><td class="paramname">u16_SequenceCount</td><td>The 14-bit sequence counter is handeled by the calling context and must be specific for each APID. </td></tr>
    <tr><td class="paramname">pu8_SecondaryHeaderData</td><td>A pointer to the secondary header </td></tr>
    <tr><td class="paramname">u16_SecondaryHeaderLength</td><td>The size of the secondary header </td></tr>
    <tr><td class="paramname">pu8_PacketData</td><td>A pointer to the data block which shall be wrapped </td></tr>
    <tr><td class="paramname">u16_PacketDataLength</td><td>The size of the data block in bytes; the secondary header and the packet data must both fit into 65535 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No packet could be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the created packet in bytes as uint32_t </dd></dl>

</div>
</div>
<a id="acadf59a2cd4d1c6e577d6e33699aa980" name="acadf59a2cd4d1c6e577d6e33699aa980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acadf59a2cd4d1c6e577d6e33699aa980">&#9670;&#160;</a></span>createIdle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CCSDS::SpacePacket::createIdle </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>u32_BufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_SequenceCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>u16_TargetPacketSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an Idle Space Packet and writes into the given buffer. </p>
<p>An Idle Frame is a Space Packet with APID 0x7ff; The content of the packet is all 0xff. Idle frames are used to fill up telemetry transfer frames.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu8_Buffer</td><td>A pointer to the buffer where the idle space packet shall be stored </td></tr>
    <tr><td class="paramname">u32_BufferSize</td><td>The available size of the buffer </td></tr>
    <tr><td class="paramname">u16_SequenceCount</td><td>The 14-bit sequence counter is handeled by the calling context and must be specific also for idle frames. </td></tr>
    <tr><td class="paramname">u16_TargetPacketSize</td><td>The requested size of the packet (usually the remaining size within the transfer frame)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No packet could be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the created packet in bytes as uint32_t </dd></dl>

</div>
</div>
<a id="a9c92055e24beb84ef8a7c39c835de839" name="a9c92055e24beb84ef8a7c39c835de839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c92055e24beb84ef8a7c39c835de839">&#9670;&#160;</a></span>getOverflowErrorCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CCSDS::SpacePacket::getOverflowErrorCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of overflow errors. </p>
<p>Overflow errors occur if the space packet is bigger than the internal memory of this class used for storing the space packet; A wrong package alignment or a incorrect size given within the space packet can also lead to an overflow error.</p>
<p>If the number of overflow errors exceeds 65535, the method returns 65535.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of overflow errors as uint16_t </dd></dl>

</div>
</div>
<a id="ad618ff3959314b0bb9c3dfd91db7899d" name="ad618ff3959314b0bb9c3dfd91db7899d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad618ff3959314b0bb9c3dfd91db7899d">&#9670;&#160;</a></span>getSyncErrorCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CCSDS::SpacePacket::getSyncErrorCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of sync errors. </p>
<p>Sync Errors occur if the parsing engine is resettet while a space packet is currently processed. The reset can only be triggered from outside (for example by the transferframe class after detecting a wrong checksum or an uncontinuous TF frame counter which cannot be resolved)</p>
<p>If the number of sync errors exceeds 65535, the method returns 65535.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of sync errors as uint16_t </dd></dl>

</div>
</div>
<a id="a3f25a227db4df3fdb08dec92012daac2" name="a3f25a227db4df3fdb08dec92012daac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f25a227db4df3fdb08dec92012daac2">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CCSDS::SpacePacket::process </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>u32_BufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The given upstream data is parsed for SpacePackets. </p>
<p>The method can handle continuously incoming data as well as complete data blocks. If a complete <a class="el" href="class_c_c_s_d_s_1_1_space_packet.html" title="Class for handling the Space Packets as described in CCSDS 133.0-B-2.">SpacePacket</a> is processed, the callback function p_SpCallback is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu8_Buffer</td><td>The data buffer which is to parse </td></tr>
    <tr><td class="paramname">u32_BufferSize</td><td>The size of the data buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e7b608d8e88033913b7509ba981f5cb" name="a4e7b608d8e88033913b7509ba981f5cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7b608d8e88033913b7509ba981f5cb">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CCSDS::SpacePacket::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the scanning for a space packet. </p>
<p>A partly received space packet is discarded; In this case, the SyncErrorCounter is increased. </p>

</div>
</div>
<a id="aab048d13283b292e2b9dd3a6d8b9ecf5" name="aab048d13283b292e2b9dd3a6d8b9ecf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab048d13283b292e2b9dd3a6d8b9ecf5">&#9670;&#160;</a></span>setActionInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CCSDS::SpacePacket::setActionInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_c_s_d_s_1_1_space_packet_action_interface.html">SpacePacketActionInterface</a> *&#160;</td>
          <td class="paramname"><em>p_ActionInterface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the action class which is used to call the methods when an action is to be called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_ActionInterface</td><td>A pointer to the implementation of the action interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abb4404ccb8726be8c36258f82b19ca51" name="abb4404ccb8726be8c36258f82b19ca51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4404ccb8726be8c36258f82b19ca51">&#9670;&#160;</a></span>MaxDataSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int CCSDS::SpacePacket::MaxDataSize = SP_MAX_DATA_SIZE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum size of the data section of a space packet </p>

</div>
</div>
<a id="ac02bfae739074d09148533e52f030feb" name="ac02bfae739074d09148533e52f030feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02bfae739074d09148533e52f030feb">&#9670;&#160;</a></span>MaxSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int CCSDS::SpacePacket::MaxSize = SP_MAX_TOTAL_SIZE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum size of a space packet including header(s) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Projects/steftri/CCSDS_dev/lib/CCSDS/src/<a class="el" href="ccsds__spacepacket_8h_source.html">ccsds_spacepacket.h</a></li>
<li>C:/Projects/steftri/CCSDS_dev/lib/CCSDS/src/<a class="el" href="ccsds__spacepacket_8cpp.html">ccsds_spacepacket.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
